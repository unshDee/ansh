import{c as f,d as g,f as s,g as d,h as x,l as R}from"./chunk-QYKDDTVU.js";import{Bb as j,Fa as H,Ga as o,Ja as I,Ka as m,Oa as T,Ra as v,V as z,W as M,Xa as y,Ya as E,Za as w,bb as r,cb as a,eb as k,fb as c,ga as A,gb as p,hb as S,ib as D,jb as b,nb as h,pb as u,sb as C}from"./chunk-YV7RGB6H.js";var W=["*"],B=(n,i)=>({expandedHeight:n,titleBarHeight:i}),F=(n,i)=>({value:n,params:i});function O(n,i){if(n&1&&(r(0,"span",5),h(1),a()),n&2){let e=p();o(),u(" ",e.minimized?"+":"-"," ")}}function N(n,i){if(n&1){let e=k();r(0,"button",9),c("click",function(l){z(e);let _=p();return M(_.toggleMaximize(l))}),r(1,"span",10),h(2),a()()}if(n&2){let e=p();b("title",e.maximized?"Restore":"Maximize"),o(2),u(" ",e.maximized?"\u2715":"\u25F1"," ")}}var P=class n{constructor(i,e,t){this.elRef=i;this.renderer=e;this.themeService=t;j(()=>{let l=this.themeService.themeChanging();this.disableAnimations=l})}windowTitle="Window Title";showMaximize=!1;maxHeight="calc(100vh - 2rem)";normalMaxHeight="300px";expandedHeightFallback="1000px";initialMinimized=!1;wordWrap=!1;disableAnimations=!1;titleBarHeight="2.5rem";minimized=!1;maximized=!1;previousMinimizedState=!1;ngOnInit(){this.minimized=this.initialMinimized}toggleMinimize(){this.minimized=!this.minimized}toggleMaximize(i){i.stopPropagation();let e=this.elRef.nativeElement;this.maximized?(this.renderer.removeClass(e,"absolute"),this.renderer.removeClass(e,"inset-x-0"),this.renderer.removeClass(e,"top-0"),this.renderer.removeClass(e,"max-w-full"),this.renderer.removeClass(e,"max-h-dvh"),this.renderer.removeClass(e,"z-100"),this.renderer.removeClass(e,"shadow-xl"),this.maximized=!1,this.minimized=this.previousMinimizedState):(this.previousMinimizedState=this.minimized,this.minimized=!1,this.renderer.addClass(e,"absolute"),this.renderer.addClass(e,"inset-x-0"),this.renderer.addClass(e,"top-0"),this.renderer.addClass(e,"max-w-full"),this.renderer.addClass(e,"max-h-dvh"),this.renderer.addClass(e,"z-100"),this.renderer.addClass(e,"shadow-xl"),this.maximized=!0)}onDocumentClick(i){this.maximized&&(this.elRef.nativeElement.contains(i.target)||this.toggleMaximize(i))}static \u0275fac=function(e){return new(e||n)(m(A),m(I),m(R))};static \u0275cmp=T({type:n,selectors:[["app-window"]],hostBindings:function(e,t){e&1&&c("click",function(_){return t.onDocumentClick(_)},!1,H)},inputs:{windowTitle:"windowTitle",showMaximize:"showMaximize",maxHeight:"maxHeight",normalMaxHeight:"normalMaxHeight",expandedHeightFallback:"expandedHeightFallback",initialMinimized:"initialMinimized",wordWrap:"wordWrap",disableAnimations:"disableAnimations"},ngContentSelectors:W,decls:11,vars:16,consts:[[1,"border","rounded-none","overflow-hidden"],[1,"flex","items-center","justify-between","border-b","px-2","py-1","bg-(--color-text)","text-(--color-bg)","cursor-pointer",3,"click"],[1,"font-semibold","font-mono"],[1,"flex","space-x-1"],["type","button",1,"pe-2","flex","items-center","justify-center","border-dotted","focus:outline-none","cursor-pointer",3,"title"],[1,"text-2xl","font-normal"],["type","button",1,"p-1","flex","items-center","justify-center","border-dotted","focus:outline-none",3,"title"],[1,"overflow-y-auto","max-h-fit"],[1,"p-2","bg-(--color-bg)"],["type","button",1,"p-1","flex","items-center","justify-center","border-dotted","focus:outline-none",3,"click","title"],[1,"text-xl","font-bold"]],template:function(e,t){e&1&&(S(),r(0,"div",0)(1,"div",1),c("click",function(){return t.maximized?null:t.toggleMinimize()}),r(2,"span",2),h(3),a(),r(4,"div",3)(5,"button",4),v(6,O,2,1,"span",5),a(),v(7,N,3,2,"button",6),a()(),r(8,"div",7)(9,"div",8),D(10),a()()()),e&2&&(y("@.disabled",t.disableAnimations)("@containerCollapse",t.maximized?"none":C(13,F,t.minimized?"collapsed":"expanded",C(10,B,t.wordWrap?t.normalMaxHeight:t.expandedHeightFallback,t.titleBarHeight))),o(3),u(" ",t.windowTitle," "),o(2),b("title",t.minimized?"Expand":"Collapse"),o(),w(t.maximized?-1:6),o(),w(t.showMaximize?7:-1),o(),E("height",t.maximized?"calc(80vh)":t.wordWrap?"calc("+t.normalMaxHeight+" - 2.5rem)":null),y("@.disabled",t.disableAnimations)("@toggleContent",t.minimized?"collapsed":"expanded"))},styles:[".no-theme-transition[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:none!important;animation:none!important}"],data:{animation:[f("toggleContent",[d("expanded",s({opacity:1,paddingTop:"*",paddingBottom:"*"})),d("collapsed",s({opacity:0,paddingTop:"0px",paddingBottom:"0px"})),x("expanded <=> collapsed",g("150ms ease-out"))]),f("containerCollapse",[d("expanded",s({maxHeight:"{{ expandedHeight }}"}),{params:{expandedHeight:"300px"}}),d("collapsed",s({maxHeight:"{{ titleBarHeight }}"}),{params:{titleBarHeight:"2.5rem"}}),d("none",s({})),x("expanded <=> collapsed",g("300ms ease-in-out"))])]}})};export{P as a};
